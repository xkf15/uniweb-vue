{"version":3,"sources":["../../../src/store/actions.js"],"names":["types","BasicInfo","data","commit","SET_BASIC_INFO","push","MemberInfo","SET_MEMBER_INFO","UserLogin","localLogin","then","res","status","USER_SIGNIN","token","prototype","$message","type","message","error","info","USER_SIGNOUT","UserLogout","GetMessages","getMessages","console","log","GET_MESSAGES","err","CreateMessage","createMessage","id","CREATE_MESSAGE","DeleteMessage","deleteMessage","DELETE_MESSAGE","GetRooms","CHANGE_LOADING","getRooms","GET_ROOMS","GetRoomInfo","roomId","getRoomInfo","GET_ROOM_INFO","GetMembers","getMembers","GET_MEMBERS","GetApplications","getApplications","GET_APPLICATIONS","CreateRoom","createRoom","CLEAR_NEW_ROOM"],"mappings":"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","file":"actions.js","sourcesContent":["import api from '../api'\nimport * as types from './types'\nimport Vue from 'vue'\nimport router from '../router'\n\nexport const BasicInfo = ({commit}, data) => {\n  commit(types.SET_BASIC_INFO, data)\n  router.push('member')\n}\n\nexport const MemberInfo = ({commit}, data) => {\n  commit(types.SET_MEMBER_INFO, data)\n}\n\nexport const UserLogin = ({ commit }, data) => {\n  api.localLogin(data).then(res => {\n    if (res.status === 200) { // 如果成功\n      commit(types.USER_SIGNIN, res.data.token)\n      Vue.prototype.$message({ // 登录成功，显示提示语\n        type: 'success',\n        message: '登录成功！'\n      })\n      router.push('./user/room')\n    } else {\n      Vue.prototype.$message.error(res.data.info) // 登录失败，显示提示语\n      commit(types.USER_SIGNOUT)\n    }\n  }, () => {\n    Vue.prototype.$message.error('请求错误！')\n    commit(types.USER_SIGNOUT)\n  })\n}\n\nexport const UserLogout = ({commit}) => {\n  commit(types.USER_SIGNOUT)\n  router.push('/')\n}\n\nexport const GetMessages = ({commit}, data) => {\n  api.getMessages(data).then(res => {\n    console.log(res.data)\n    commit(types.GET_MESSAGES, res.data)\n  }, (err) => {\n    console.log(err)\n    Vue.prototype.$message.error('请求错误！')\n  })\n}\n\nexport const CreateMessage = ({commit}, data) => {\n  api.createMessage(data).then(res => {\n    data.data.id = res.data\n    commit(types.CREATE_MESSAGE, data.data)\n    Vue.prototype.$message('添加消息成功！')\n  }, (err) => {\n    console.log(err)\n    Vue.prototype.$message.error('请求错误！')\n  })\n}\n\nexport const DeleteMessage = ({commit}, data) => {\n  api.deleteMessage(data).then(res => {\n    if (res.status === 200) {\n      commit(types.DELETE_MESSAGE, data)\n      Vue.prototype.$message({\n        type: 'success',\n        message: '删除成功!'\n      })\n    }\n  }, (err) => {\n    console.log(err)\n    Vue.prototype.$message.error('请求错误！')\n  })\n}\n\nexport const GetRooms = ({commit}) => {\n  commit(types.CHANGE_LOADING)\n  api.getRooms().then(res => {\n    console.log(res.data)\n    commit(types.GET_ROOMS, res.data)\n    commit(types.CHANGE_LOADING)\n  }, (err) => {\n    console.log(err)\n    Vue.prototype.$message.error('请求错误！')\n    commit(types.CHANGE_LOADING)\n  })\n}\n\nexport const GetRoomInfo = ({commit}, roomId) => {\n  api.getRoomInfo(roomId).then(res => {\n    if (res.status === 200) {\n      commit(types.GET_ROOM_INFO, res.data)\n    } else {\n      Vue.prototype.$message.error('状态码错误')\n    }\n  }, (err) => {\n    console.log(err)\n    Vue.prototype.$message.error('请求错误！')\n  })\n}\n\nexport const GetMembers = ({commit}, roomId) => {\n  api.getMembers(roomId).then(res => {\n    if (res.status === 200) {\n      commit(types.GET_MEMBERS, res.data)\n    } else {\n      Vue.prototype.$message.error('状态码错误')\n    }\n  }, (err) => {\n    console.log(err)\n    Vue.prototype.$message.error('请求错误！')\n  })\n}\n\nexport const GetApplications = ({commit}, roomId) => {\n  api.getApplications(roomId).then(res => {\n    if (res.status === 200) {\n      commit(types.GET_APPLICATIONS, res.data)\n    } else {\n      Vue.prototype.$message.error('状态码错误')\n    }\n  }, (err) => {\n    console.log(err)\n    Vue.prototype.$message.error('请求错误！')\n  })\n}\n\nexport const CreateRoom = ({commit}, data) => {\n  api.createRoom(data).then(res => {\n    if (res.status === 201) { // 如果成功\n      commit(types.CLEAR_NEW_ROOM)\n      Vue.prototype.$message('创建房间成功')\n    } else {\n      Vue.prototype.$message.error('Status code is not matched')\n    }\n  }, () => {\n    Vue.prototype.$message.error('请求错误！')\n  })\n}\n"]}