{"version":3,"sources":["../../../src/store/actions.js"],"names":["types","BasicInfo","data","commit","SET_BASIC_INFO","push","MemberInfo","SET_MEMBER_INFO","UserLogin","localLogin","then","res","status","USER_SIGNIN","token","prototype","$message","type","message","error","info","USER_SIGNOUT","UserLogout","GetMessages","getMessages","err","console","log","GetRooms","getRooms","CreateRoom","createRoom","CLEAR_NEW_ROOM"],"mappings":";;;;;;;AAAA;;;;AACA;;IAAYA,K;;AACZ;;;;AACA;;;;;;;;AAEO,IAAMC,gCAAY,SAAZA,SAAY,OAAWC,IAAX,EAAoB;AAAA,MAAlBC,MAAkB,QAAlBA,MAAkB;;AAC3CA,SAAOH,MAAMI,cAAb,EAA6BF,IAA7B;AACA,mBAAOG,IAAP,CAAY,QAAZ;AACD,CAHM;;AAKA,IAAMC,kCAAa,SAAbA,UAAa,QAAWJ,IAAX,EAAoB;AAAA,MAAlBC,MAAkB,SAAlBA,MAAkB;;AAC5CA,SAAOH,MAAMO,eAAb,EAA8BL,IAA9B;AACD,CAFM;;AAIA,IAAMM,gCAAY,SAAZA,SAAY,QAAaN,IAAb,EAAsB;AAAA,MAAnBC,MAAmB,SAAnBA,MAAmB;;AAC7C,gBAAIM,UAAJ,CAAeP,IAAf,EAAqBQ,IAArB,CAA0B,eAAO;AAC/B,QAAIC,IAAIC,MAAJ,KAAe,GAAnB,EAAwB;AACtBT,aAAOH,MAAMa,WAAb,EAA0BF,IAAIT,IAAJ,CAASY,KAAnC;AACA,oBAAIC,SAAJ,CAAcC,QAAd,CAAuB;AACrBC,cAAM,SADe;AAErBC,iBAAS;AAFY,OAAvB;AAIA,uBAAOb,IAAP,CAAY,aAAZ;AACD,KAPD,MAOO;AACL,oBAAIU,SAAJ,CAAcC,QAAd,CAAuBG,KAAvB,CAA6BR,IAAIT,IAAJ,CAASkB,IAAtC;AACAjB,aAAOH,MAAMqB,YAAb;AACD;AACF,GAZD,EAYG,YAAM;AACP,kBAAIN,SAAJ,CAAcC,QAAd,CAAuBG,KAAvB,CAA6B,OAA7B;AACAhB,WAAOH,MAAMqB,YAAb;AACD,GAfD;AAgBD,CAjBM;;AAmBA,IAAMC,kCAAa,SAAbA,UAAa,QAAc;AAAA,MAAZnB,MAAY,SAAZA,MAAY;;AACtCA,SAAOH,MAAMqB,YAAb;AACA,mBAAOhB,IAAP,CAAY,GAAZ;AACD,CAHM;AAIA,IAAMkB,oCAAc,SAAdA,WAAc,QAAc;AAAA,MAAZpB,MAAY,SAAZA,MAAY;;AACvC,gBAAIqB,WAAJ,GAAkBd,IAAlB,CAAuB,eAAO,CAE7B,CAFD,EAEG,UAACe,GAAD,EAAS;AACVC,YAAQC,GAAR,CAAYF,GAAZ;AACA,kBAAIV,SAAJ,CAAcC,QAAd,CAAuBG,KAAvB,CAA6B,OAA7B;AACD,GALD;AAMD,CAPM;;AASA,IAAMS,8BAAW,SAAXA,QAAW,QAAc;AAAA,MAAZzB,MAAY,SAAZA,MAAY;;AACpC,gBAAI0B,QAAJ,GAAenB,IAAf,CAAoB,eAAO;AACzBgB,YAAQC,GAAR,CAAYhB,IAAIT,IAAhB;AACD,GAFD,EAEG,UAACuB,GAAD,EAAS;AACVC,YAAQC,GAAR,CAAYF,GAAZ;AACA,kBAAIV,SAAJ,CAAcC,QAAd,CAAuBG,KAAvB,CAA6B,OAA7B;AACD,GALD;AAMD,CAPM;;AASA,IAAMW,kCAAa,SAAbA,UAAa,QAAW5B,IAAX,EAAoB;AAAA,MAAlBC,MAAkB,SAAlBA,MAAkB;;AAC5C,gBAAI4B,UAAJ,CAAe7B,IAAf,EAAqBQ,IAArB,CAA0B,eAAO;AAC/BgB,YAAQC,GAAR,CAAYhB,GAAZ;AACA,QAAIA,IAAIC,MAAJ,KAAe,GAAnB,EAAwB;AACtBT,aAAOH,MAAMgC,cAAb;AACA,oBAAIjB,SAAJ,CAAcC,QAAd,CAAuB;AACrBC,cAAM,SADe;AAErBC,iBAAS;AAFY,OAAvB;AAID,KAND,MAMO;AACL,oBAAIH,SAAJ,CAAcC,QAAd,CAAuBG,KAAvB,CAA6BR,IAAIT,IAAJ,CAASkB,IAAtC;AACD;AACF,GAXD,EAWG,YAAM;AACP,kBAAIL,SAAJ,CAAcC,QAAd,CAAuBG,KAAvB,CAA6B,OAA7B;AACD,GAbD;AA2BD,CA5BM","file":"actions.js","sourcesContent":["import api from '../api'\nimport * as types from './types'\nimport Vue from 'vue'\nimport router from '../router'\n\nexport const BasicInfo = ({commit}, data) => {\n  commit(types.SET_BASIC_INFO, data)\n  router.push('member')\n}\n\nexport const MemberInfo = ({commit}, data) => {\n  commit(types.SET_MEMBER_INFO, data)\n}\n\nexport const UserLogin = ({ commit }, data) => {\n  api.localLogin(data).then(res => {\n    if (res.status === 200) { // 如果成功\n      commit(types.USER_SIGNIN, res.data.token)\n      Vue.prototype.$message({ // 登录成功，显示提示语\n        type: 'success',\n        message: '登录成功！'\n      })\n      router.push('./user/room')\n    } else {\n      Vue.prototype.$message.error(res.data.info) // 登录失败，显示提示语\n      commit(types.USER_SIGNOUT)\n    }\n  }, () => {\n    Vue.prototype.$message.error('请求错误！')\n    commit(types.USER_SIGNOUT)\n  })\n}\n\nexport const UserLogout = ({commit}) => {\n  commit(types.USER_SIGNOUT)\n  router.push('/')\n}\nexport const GetMessages = ({commit}) => {\n  api.getMessages().then(res => {\n\n  }, (err) => {\n    console.log(err)\n    Vue.prototype.$message.error('请求错误！')\n  })\n}\n\nexport const GetRooms = ({commit}) => {\n  api.getRooms().then(res => {\n    console.log(res.data)\n  }, (err) => {\n    console.log(err)\n    Vue.prototype.$message.error('请求错误！')\n  })\n}\n\nexport const CreateRoom = ({commit}, data) => {\n  api.createRoom(data).then(res => {\n    console.log(res)\n    if (res.status === 200) { // 如果成功\n      commit(types.CLEAR_NEW_ROOM)\n      Vue.prototype.$message({ // 登录成功，显示提示语\n        type: 'success',\n        message: '成功发送房间信息！'\n      })\n    } else {\n      Vue.prototype.$message.error(res.data.info) // 登录失败，显示提示语\n    }\n  }, () => {\n    Vue.prototype.$message.error('请求错误！')\n  })\n  // api.newRoomMemberInfo(data.memberInfo).then(res => {\n  //   if (res.status === 200) { // 如果成功\n  //     commit(types.CLEAR_MEMBER_INFO)\n  //     Vue.prototype.$message({ // 登录成功，显示提示语\n  //       type: 'success',\n  //       message: '成功发送问卷信息！'\n  //     })\n  //   } else {\n  //     Vue.prototype.$message.error(res.data.info) // 登录失败，显示提示语\n  //   }\n  // }, () => {\n  //   Vue.prototype.$message.error('请求错误！')\n  // })\n}\n"]}