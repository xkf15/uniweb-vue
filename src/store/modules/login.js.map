{"version":3,"sources":["../../../../src/store/modules/login.js"],"names":["types","isLoggedIn","sessionStorage","getItem","state","token","userInfo","setUser","setItem","mutations","USER_SIGNIN","USER_SIGNOUT","CHANGE_USER_INFO","data","GET_USER_INFO"],"mappings":";;;;;;;;;;;;AAAA;;IAAYA,K;;;;;;AAEZ,IAAMC,aAAa,SAAbA,UAAa,GAAM;AACvB,SAAOC,eAAeC,OAAf,CAAuB,WAAvB,CAAP;AACD,CAFD;;AAIA,IAAMC,QAAQ;AACZC,SAAOJ,gBAAgB,IADX;AAEZK,YAAU;AAFE,CAAd;;AAKA,IAAMC,UAAU,SAAVA,OAAU,CAACH,KAAD,EAAQC,KAAR,EAAkB;AAChCH,iBAAeM,OAAf,CAAuB,WAAvB,EAAoCH,KAApC;AACAD,QAAMC,KAAN,GAAcA,KAAd;AACD,CAHD;;AAKA,IAAMI,wEACHT,MAAMU,WADH,YACiBN,KADjB,EACwBC,KADxB,EAC+B;AACjCE,UAAQH,KAAR,EAAeC,KAAf;AACD,CAHG,6CAIHL,MAAMW,YAJH,YAIkBP,KAJlB,EAIyB;AAC3BF,iBAAeM,OAAf,CAAuB,WAAvB,EAAoC,IAApC;AACAJ,QAAMC,KAAN,GAAc,IAAd;AACD,CAPG,6CAQHL,MAAMY,gBARH,YAQsBR,KARtB,EAQ6BS,IAR7B,EAQmC,CAEtC,CAVG,6CAWHb,MAAMc,aAXH,YAWmBV,KAXnB,EAW0BS,IAX1B,EAWgC;AAClCT,QAAME,QAAN,GAAiBO,IAAjB;AACD,CAbG,cAAN;;kBAmBe;AACbT,cADa;AAEbK;AAFa,C","file":"login.js","sourcesContent":["import * as types from '../types'\n\nconst isLoggedIn = () => {\n  return sessionStorage.getItem('uni-token')\n}\n\nconst state = {\n  token: isLoggedIn() || null,\n  userInfo: []\n}\n\nconst setUser = (state, token) => {\n  sessionStorage.setItem('uni-token', token)\n  state.token = token\n}\n\nconst mutations = {\n  [types.USER_SIGNIN] (state, token) {\n    setUser(state, token) // 用sessionStorage把token存下来\n  },\n  [types.USER_SIGNOUT] (state) {\n    sessionStorage.setItem('uni-token', null) // 将token清空\n    state.token = null\n  },\n  [types.CHANGE_USER_INFO] (state, data) {\n    // state.userInfo = []\n  },\n  [types.GET_USER_INFO] (state, data) {\n    state.userInfo = data\n  }\n  // [types.USER_SIGNUP] (state, token) {\n  //   setUser(state, token)\n  // }\n}\n\nexport default {\n  state,\n  mutations\n}\n"]}